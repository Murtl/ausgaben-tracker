import{_ as e,e as a,a as l,l as s,d as t,u,b as n,w as o,A as v,i,g as d,E as r,s as p,G as c,r as w,c as _,H as h,f as m,h as f,j as y,I as g,F as b}from"./index-753ce4aa.js";const k={},x={width:"25",height:"25",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},C=[s("path",{d:"M7.5364 11.73C7.18492 11.3785 6.61508 11.3785 6.2636 11.73C5.91213 12.0814 5.91213 12.6513 6.2636 13.0027L9.53043 16.2696C9.8819 16.621 10.4517 16.621 10.8032 16.2696L18.5364 8.5364C18.8879 8.18492 18.8879 7.61508 18.5364 7.2636C18.1849 6.91213 17.6151 6.91213 17.2636 7.2636L10.1668 14.3604L7.5364 11.73Z",fill:"white"},null,-1)];const P=e(k,[["render",function(e,s){return a(),l("svg",x,C)}]]),U={class:"at-success-modal-host"},A=t({__name:"ATSuccessModal",props:{title:null,handleCloseModalOnOk:{type:Function}},setup(e){const s=u().i18n;return(t,u)=>(a(),l("div",U,[n(v,{title:e.title},{buttons:o((()=>[n(i,{title:d(s).ok,width:"50px",primary:"",onPress:e.handleCloseModalOnOk},null,8,["title","onPress"])])),_:1},8,["title"])]))}}),L={class:"at-account-host"},M={class:"name-wrapper"},O={class:"button-wrapper"},I={class:"pw-wrapper"},j={class:"button-wrapper"},F=e(t({__name:"ATAccount",setup(e){const t=u().i18n,v=r(),{userUID:k,userName:x}=p(v),C=c(),U=w(""),F=w(""),N=w(""),T=w(""),B=w(""),D=w(!1),E=w(""),G=w(!1),H=_((()=>""===U.value)),S=_((()=>""===F.value||""===N.value||""===T.value)),Z=()=>{D.value=!D.value},q=()=>{G.value=!G.value},z=()=>{!1===C.changeName(k.value,U.value)?(E.value=t.name_already_in_use,q()):(x.value=U.value,U.value="",B.value=t.name_successfully_updated,Z())},J=()=>{if(N.value===T.value){if(!1===C.checkPassword(k.value,F.value))return E.value=t.wrong_old_password,void q();C.changePassword(k.value,N.value),N.value="",T.value="",F.value="",B.value=t.password_successfully_updated,Z()}else E.value=t.passwords_do_not_match,q()};return(e,u)=>(a(),l(b,null,[s("div",L,[s("section",M,[n(m,{title:d(t).name,value:d(x),"onUpdate:value":u[0]||(u[0]=e=>h(x)?x.value=e:null),readonly:""},null,8,["title","value"]),n(m,{title:d(t).change_name,value:U.value,"onUpdate:value":u[1]||(u[1]=e=>U.value=e)},null,8,["title","value"]),s("section",O,[n(i,{title:d(t).save_name,width:"260px",primary:"",onPress:z,disabled:d(H)},{icon:o((()=>[n(P)])),_:1},8,["title","disabled"])])]),s("section",I,[n(m,{title:d(t).old_password,value:F.value,"onUpdate:value":u[2]||(u[2]=e=>F.value=e),password:""},null,8,["title","value"]),n(m,{title:d(t).new_password,value:N.value,"onUpdate:value":u[3]||(u[3]=e=>N.value=e),password:""},null,8,["title","value"]),n(m,{title:d(t).confirm_new_password,value:T.value,"onUpdate:value":u[4]||(u[4]=e=>T.value=e),password:""},null,8,["title","value"]),s("section",j,[n(i,{title:d(t).save_password,width:"240px",primary:"",onPress:J,disabled:d(S)},{icon:o((()=>[n(P)])),_:1},8,["title","disabled"])])])]),D.value?(a(),f(A,{key:0,title:B.value,"handle-close-modal-on-ok":Z},null,8,["title"])):y("",!0),G.value?(a(),f(g,{key:1,title:E.value,"handle-close-modal-on-try-again":q},null,8,["title"])):y("",!0)],64))}}),[["__scopeId","data-v-b15d3421"]]);export{F as default};
