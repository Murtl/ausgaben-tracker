import{d as e,u as a,o as l,r as t,c as n,a as d,b as s,w as u,A as o,e as i,f as r,g as c,h as p,i as v,j as m,k as f,l as h,t as x,F as _,m as C,p as E,n as O,_ as y,q as w,s as I}from"./index-9486f725.js";import{A as g,a as M,b,c as k,d as L}from"./ATTrashBinIcon-1ee14b80.js";const P=(e,a)=>e.filter((e=>e.sourceOfExpenditure.toLowerCase().includes(a.toLowerCase())||e.additionalInfo.toLowerCase().includes(a.toLowerCase())||e.date.toLowerCase().includes(a.toLowerCase()))),A={class:"at-expenditure-modal-host"},T=e({__name:"ATExpenditureModal",props:{title:null,handleCloseModalOnCancel:null,handleCloseModalOnSave:null,expenditure:{default:void 0},handleCloseModalOnDelete:{type:Function,default:void 0}},setup(e){const f=e,h=a().i18n;l((()=>{f.expenditure?x.value=f.expenditure:x.value={id:0,sourceOfExpenditure:"",additionalInfo:"",amount:0,date:""}}));const x=t({id:0,sourceOfExpenditure:"",additionalInfo:"",amount:0,date:""}),_=n((()=>!(e=>!(!(e.sourceOfExpenditure&&e.amount&&0!==e.amount&&e.date)||e.amount<0))(x.value))),C=e=>""!==e,E=e=>e>0;return(a,l)=>(i(),d("div",A,[s(o,{title:e.title},{inputs:u((()=>[s(r,{title:c(h).source_of_expenditure,value:x.value.sourceOfExpenditure,"onUpdate:value":l[0]||(l[0]=e=>x.value.sourceOfExpenditure=e),validate:C,"invalid-message":c(h).incorrect_input_at_expenditure_source},null,8,["title","value","invalid-message"]),s(r,{title:c(h).additional_information,value:x.value.additionalInfo,"onUpdate:value":l[1]||(l[1]=e=>x.value.additionalInfo=e)},null,8,["title","value"]),s(r,{title:c(h).amount,value:x.value.amount,"onUpdate:value":l[2]||(l[2]=e=>x.value.amount=e),placeholder:c(h).placeholder_amount,validate:E,"invalid-message":c(h).incorrect_input_at_amount},null,8,["title","value","placeholder","invalid-message"]),s(r,{title:c(h).date,value:x.value.date,"onUpdate:value":l[3]||(l[3]=e=>x.value.date=e),"type-date":"",validate:C,"invalid-message":c(h).incorrect_input_at_date},null,8,["title","value","invalid-message"])])),buttons:u((()=>[e.handleCloseModalOnDelete?(i(),p(v,{key:0,onPress:l[4]||(l[4]=a=>e.handleCloseModalOnDelete?e.handleCloseModalOnDelete(x.value):()=>{}),tertiary:"",width:"50px"},{icon:u((()=>[s(g)])),_:1})):m("",!0),s(v,{title:c(h).cancel,secondary:"",onPress:e.handleCloseModalOnCancel},null,8,["title","onPress"]),s(v,{title:c(h).save,primary:"",onPress:l[5]||(l[5]=a=>e.handleCloseModalOnSave(x.value)),disabled:c(_)},null,8,["title","disabled"])])),_:1},8,["title"])]))}}),D={class:"at-expenditure-list-host"},U={class:"table-header"},j={class:"first-column"},S={class:"second-column"},F={class:"third-column"},q={class:"fourth-column"},B=(e=>(E("data-v-c0796aed"),e=e(),O(),e))((()=>h("span",{class:"fifth-column"},null,-1))),$={class:"first-column"},z={class:"second-column"},G={class:"third-column"},H={class:"fourth-column"},J={class:"fifth-column"},K=y(e({__name:"ATExpendituresList",props:{data:null,filter:{default:""}},emits:["delete-expenditure","update-expenditure"],setup(e,{emit:l}){const n=e,o=a().i18n,r=t(n.data),E=t({id:0,sourceOfExpenditure:"",additionalInfo:"",amount:0,date:""}),O=t(!1),y=t(!1);f((()=>n.filter),(e=>{r.value=n.data,r.value=P(r.value,e)})),f((()=>n.data),(e=>{r.value=e,r.value=P(r.value,n.filter)}),{deep:!0});const w=()=>{O.value=!1},I=()=>{l("delete-expenditure",E.value),y.value=!1,O.value=!1},g=()=>{O.value=!0},k=()=>{l("update-expenditure",E.value),y.value=!1},L=()=>{y.value=!1};return(e,a)=>(i(),d(_,null,[h("div",D,[h("section",U,[h("span",j,x(c(o).source_of_expenditure),1),h("span",S,x(c(o).additional_information),1),h("span",F,x(c(o).amount),1),h("span",q,x(c(o).date),1),B]),(i(!0),d(_,null,C(r.value.slice().reverse(),(e=>(i(),d("section",{key:e.id,class:"table-content"},[h("span",$,x(e.sourceOfExpenditure),1),h("span",z,x(e.additionalInfo),1),h("span",G,x(`${e.amount} â‚¬`),1),h("span",H,x(e.date),1),h("span",J,[s(v,{secondary:"",width:"40px",onPress:a=>(e=>{E.value=Object.create(e),y.value=!0})(e)},{icon:u((()=>[s(b)])),_:2},1032,["onPress"])])])))),128))]),y.value?(i(),p(T,{key:0,title:c(o).edit_expenditure,"handle-close-modal-on-cancel":L,"handle-close-modal-on-save":k,"handle-close-modal-on-delete":g,expenditure:E.value},null,8,["title","expenditure"])):m("",!0),O.value?(i(),p(M,{key:1,title:c(o).really_delete_Expenditure,"handle-close-modal-delete-on-cancel":w,"handle-close-modal-delete-on-confirm":I},null,8,["title"])):m("",!0)],64))}}),[["__scopeId","data-v-c0796aed"]]),N={class:"at-tracker-host"},Q=y(e({__name:"ATTracker",setup(e){const l=a().i18n,n=w(),{allExpenditures:o}=I(n),r=t(""),f=t(!1),x=()=>{f.value=!0},C=()=>{f.value=!1},E=e=>{try{e.id=o.value[o.value.length-1].id+1}catch{e.id=1}n.addExpenditure(e),f.value=!1},O=e=>{n.deleteExpenditure(e.id)},y=e=>{n.updateExpenditure(e)},g=e=>{r.value=e};return(e,a)=>(i(),d(_,null,[h("div",N,[h("header",null,[s(k,{placeholder:c(l).search_expenditure,onSearchChanged:g},null,8,["placeholder"]),s(v,{title:c(l).new_expenditure,width:"175px",primary:"",onPress:x},{icon:u((()=>[s(L)])),_:1},8,["title"])]),h("main",null,[s(K,{data:c(o),filter:r.value,onDeleteExpenditure:O,onUpdateExpenditure:y},null,8,["data","filter"])])]),f.value?(i(),p(T,{key:0,title:c(l).new_expenditure,"handle-close-modal-on-cancel":C,"handle-close-modal-on-save":E},null,8,["title"])):m("",!0)],64))}}),[["__scopeId","data-v-7346564a"]]);export{Q as default};
