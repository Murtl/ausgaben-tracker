import{d as e,u as a,o as l,r as t,c as n,a as d,b as s,w as o,A as u,e as i,f as r,g as c,h as p,i as v,j as m,k as f,t as h,F as x,l as _,p as O,m as C,_ as E,n as y,s as w}from"./index-661bf538.js";import{A as I,a as b,b as g,c as M,d as k}from"./ATTrashBinIcon-b6f64dd1.js";const L={class:"at-expenditure-modal-host"},P=e({__name:"ATExpenditureModal",props:{title:null,handleCloseModalOnCancel:null,handleCloseModalOnSave:null,expenditure:{default:void 0},handleCloseModalOnDelete:{type:Function,default:void 0}},setup(e){const f=e,h=a().i18n;l((()=>{f.expenditure?x.value=f.expenditure:x.value={id:0,sourceOfExpenditure:"",additionalInfo:"",amount:0,date:""}}));const x=t({id:0,sourceOfExpenditure:"",additionalInfo:"",amount:0,date:""}),_=n((()=>!(e=>!(!(e.sourceOfExpenditure&&e.amount&&0!==e.amount&&e.date)||e.amount<0))(x.value))),O=e=>""!==e,C=e=>e>0;return(a,l)=>(i(),d("div",L,[s(u,{title:e.title},{inputs:o((()=>[s(r,{title:c(h).source_of_expenditure,value:x.value.sourceOfExpenditure,"onUpdate:value":l[0]||(l[0]=e=>x.value.sourceOfExpenditure=e),validate:O,"invalid-message":c(h).incorrect_input_at_expenditure_source},null,8,["title","value","invalid-message"]),s(r,{title:c(h).additional_information,value:x.value.additionalInfo,"onUpdate:value":l[1]||(l[1]=e=>x.value.additionalInfo=e)},null,8,["title","value"]),s(r,{title:c(h).amount,value:x.value.amount,"onUpdate:value":l[2]||(l[2]=e=>x.value.amount=e),placeholder:c(h).placeholder_amount,validate:C,"invalid-message":c(h).incorrect_input_at_amount},null,8,["title","value","placeholder","invalid-message"]),s(r,{title:c(h).date,value:x.value.date,"onUpdate:value":l[3]||(l[3]=e=>x.value.date=e),"type-date":"",validate:O,"invalid-message":c(h).incorrect_input_at_date},null,8,["title","value","invalid-message"])])),buttons:o((()=>[e.handleCloseModalOnDelete?(i(),p(v,{key:0,onPress:l[4]||(l[4]=a=>e.handleCloseModalOnDelete?e.handleCloseModalOnDelete(x.value):()=>{}),tertiary:"",width:"50px"},{icon:o((()=>[s(I)])),_:1})):m("",!0),s(v,{title:c(h).cancel,secondary:"",onPress:e.handleCloseModalOnCancel},null,8,["title","onPress"]),s(v,{title:c(h).save,primary:"",onPress:l[5]||(l[5]=a=>e.handleCloseModalOnSave(x.value)),disabled:c(_)},null,8,["title","disabled"])])),_:1},8,["title"])]))}}),A={class:"at-expenditure-list-host"},T={class:"table-header"},j={class:"first-column"},D={class:"second-column"},U={class:"third-column"},S={class:"fourth-column"},F=(e=>(O("data-v-2d37e2fa"),e=e(),C(),e))((()=>f("span",{class:"fifth-column"},null,-1))),B={class:"first-column"},$={class:"second-column"},q={class:"third-column"},z={class:"fourth-column"},G={class:"fifth-column"},H=E(e({__name:"ATExpendituresList",props:{data:null,filter:{default:""}},emits:["delete-expenditure","update-expenditure"],setup(e,{emit:l}){const u=e,r=a().i18n,O=n((()=>((e,a)=>e.filter((e=>e.sourceOfExpenditure.toLowerCase().includes(a.toLowerCase())||e.additionalInfo.toLowerCase().includes(a.toLowerCase())||e.date.toLowerCase().includes(a.toLowerCase()))))(Object.create(u.data),u.filter))),C=t({id:0,sourceOfExpenditure:"",additionalInfo:"",amount:0,date:""}),E=t(!1),y=t(!1),w=()=>{E.value=!1},I=()=>{l("delete-expenditure",C.value),y.value=!1,E.value=!1},M=()=>{E.value=!0},k=()=>{l("update-expenditure",C.value),y.value=!1},L=()=>{y.value=!1};return(e,a)=>(i(),d(x,null,[f("div",A,[f("section",T,[f("span",j,h(c(r).source_of_expenditure),1),f("span",D,h(c(r).additional_information),1),f("span",U,h(c(r).amount),1),f("span",S,h(c(r).date),1),F]),(i(!0),d(x,null,_(c(O).slice().reverse(),(e=>(i(),d("section",{key:e.id,class:"table-content"},[f("span",B,h(e.sourceOfExpenditure),1),f("span",$,h(e.additionalInfo),1),f("span",q,h(`${e.amount} â‚¬`),1),f("span",z,h(e.date),1),f("span",G,[s(v,{secondary:"",width:"40px",onPress:a=>(e=>{C.value=Object.create(e),y.value=!0})(e)},{icon:o((()=>[s(g)])),_:2},1032,["onPress"])])])))),128))]),y.value?(i(),p(P,{key:0,title:c(r).edit_expenditure,"handle-close-modal-on-cancel":L,"handle-close-modal-on-save":k,"handle-close-modal-on-delete":M,expenditure:C.value},null,8,["title","expenditure"])):m("",!0),E.value?(i(),p(b,{key:1,title:c(r).really_delete_Expenditure,"handle-close-modal-delete-on-cancel":w,"handle-close-modal-delete-on-confirm":I},null,8,["title"])):m("",!0)],64))}}),[["__scopeId","data-v-2d37e2fa"]]),J={class:"at-tracker-host"},K=E(e({__name:"ATTracker",setup(e){const l=a().i18n,n=y(),{allExpenditures:u}=w(n),r=t(""),h=t(!1),_=()=>{h.value=!0},O=()=>{h.value=!1},C=e=>{try{e.id=u.value[u.value.length-1].id+1}catch{e.id=1}n.addExpenditure(e),h.value=!1},E=e=>{n.deleteExpenditure(e.id)},I=e=>{n.updateExpenditure(e)},b=e=>{r.value=e};return(e,a)=>(i(),d(x,null,[f("div",J,[f("header",null,[s(M,{placeholder:c(l).search_expenditure,onSearchChanged:b},null,8,["placeholder"]),s(v,{title:c(l).new_expenditure,width:"175px",primary:"",onPress:_},{icon:o((()=>[s(k)])),_:1},8,["title"])]),f("main",null,[s(H,{data:c(u),filter:r.value,onDeleteExpenditure:E,onUpdateExpenditure:I},null,8,["data","filter"])])]),h.value?(i(),p(P,{key:0,title:c(l).new_expenditure,"handle-close-modal-on-cancel":O,"handle-close-modal-on-save":C},null,8,["title"])):m("",!0)],64))}}),[["__scopeId","data-v-7346564a"]]);export{K as default};
