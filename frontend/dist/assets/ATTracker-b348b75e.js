import{d as e,u as a,o as l,r as t,c as n,a as d,b as s,w as o,A as i,e as u,f as r,g as c,h as p,i as v,j as m,k as h,t as x,F as f,l as _,p as E,m as O,_ as C,n as y,s as w}from"./index-756825fe.js";import{A as I,a as b,b as g,c as M,d as k}from"./ATTrashBinIcon-f47d6c46.js";const L={class:"at-expenditure-modal-host"},P=e({__name:"ATExpenditureModal",props:{title:{},handleCloseModalOnCancel:{},handleCloseModalOnSave:{},propExpenditure:{},handleCloseModalOnDelete:{type:Function,default:void 0}},setup(e){const h=e,x=a().i18n;l((()=>{h.propExpenditure?f.value=h.propExpenditure:f.value={id:0,sourceOfExpenditure:"",additionalInfo:"",amount:0,date:""}}));const f=t({id:0,sourceOfExpenditure:"",additionalInfo:"",amount:0,date:""}),_=n((()=>!(e=>!(!(e.sourceOfExpenditure&&e.amount&&0!==e.amount&&e.date)||e.amount<0))(f.value))),E=e=>""!==e,O=e=>e>0;return(e,a)=>(u(),d("div",L,[s(i,{title:e.title},{inputs:o((()=>[s(r,{title:c(x).source_of_expenditure,value:f.value.sourceOfExpenditure,"onUpdate:value":a[0]||(a[0]=e=>f.value.sourceOfExpenditure=e),validate:E,"invalid-message":c(x).incorrect_input_at_expenditure_source},null,8,["title","value","invalid-message"]),s(r,{title:c(x).additional_information,value:f.value.additionalInfo,"onUpdate:value":a[1]||(a[1]=e=>f.value.additionalInfo=e)},null,8,["title","value"]),s(r,{title:c(x).amount,value:f.value.amount,"onUpdate:value":a[2]||(a[2]=e=>f.value.amount=e),placeholder:c(x).placeholder_amount,validate:O,"invalid-message":c(x).incorrect_input_at_amount},null,8,["title","value","placeholder","invalid-message"]),s(r,{title:c(x).date,value:f.value.date,"onUpdate:value":a[3]||(a[3]=e=>f.value.date=e),"type-date":"",validate:E,"invalid-message":c(x).incorrect_input_at_date},null,8,["title","value","invalid-message"])])),buttons:o((()=>[e.handleCloseModalOnDelete?(u(),p(v,{key:0,onPress:a[4]||(a[4]=a=>e.handleCloseModalOnDelete?e.handleCloseModalOnDelete(f.value):()=>{}),tertiary:"",width:"50px"},{icon:o((()=>[s(I)])),_:1})):m("",!0),s(v,{title:c(x).cancel,secondary:"",onPress:e.handleCloseModalOnCancel},null,8,["title","onPress"]),s(v,{title:c(x).save,primary:"",onPress:a[5]||(a[5]=a=>e.handleCloseModalOnSave(f.value)),disabled:_.value},null,8,["title","disabled"])])),_:1},8,["title"])]))}}),A={class:"at-expenditure-list-host"},T={class:"table-header"},j={class:"first-column"},D={class:"second-column"},U={class:"third-column"},S={class:"fourth-column"},F=(e=>(E("data-v-2d761052"),e=e(),O(),e))((()=>h("span",{class:"fifth-column"},null,-1))),B={class:"first-column"},$={class:"second-column"},q={class:"third-column"},z={class:"fourth-column"},G={class:"fifth-column"},H=C(e({__name:"ATExpendituresList",props:{data:{},filter:{default:""}},emits:["delete-expenditure","update-expenditure"],setup(e,{emit:l}){const i=e,r=a().i18n,E=n((()=>((e,a)=>e.filter((e=>e.sourceOfExpenditure.toLowerCase().includes(a.toLowerCase())||e.additionalInfo.toLowerCase().includes(a.toLowerCase())||e.date.toLowerCase().includes(a.toLowerCase()))))(Object.create(i.data),i.filter))),O=t({id:0,sourceOfExpenditure:"",additionalInfo:"",amount:0,date:""}),C=t(!1),y=t(!1),w=()=>{C.value=!1},I=()=>{l("delete-expenditure",O.value),y.value=!1,C.value=!1},M=()=>{C.value=!0},k=()=>{l("update-expenditure",O.value),y.value=!1},L=()=>{y.value=!1};return(e,a)=>(u(),d(f,null,[h("div",A,[h("section",T,[h("span",j,x(c(r).source_of_expenditure),1),h("span",D,x(c(r).additional_information),1),h("span",U,x(c(r).amount),1),h("span",S,x(c(r).date),1),F]),(u(!0),d(f,null,_(E.value.slice().reverse(),(e=>(u(),d("section",{key:e.id,class:"table-content"},[h("span",B,x(e.sourceOfExpenditure),1),h("span",$,x(e.additionalInfo),1),h("span",q,x(`${e.amount} â‚¬`),1),h("span",z,x(e.date),1),h("span",G,[s(v,{secondary:"",width:"40px",onPress:a=>(e=>{O.value=Object.create(e),y.value=!0})(e)},{icon:o((()=>[s(g)])),_:2},1032,["onPress"])])])))),128))]),y.value?(u(),p(P,{key:0,title:c(r).edit_expenditure,"handle-close-modal-on-cancel":L,"handle-close-modal-on-save":k,"handle-close-modal-on-delete":M,"prop-expenditure":O.value},null,8,["title","prop-expenditure"])):m("",!0),C.value?(u(),p(b,{key:1,title:c(r).really_delete_Expenditure,"handle-close-modal-delete-on-cancel":w,"handle-close-modal-delete-on-confirm":I},null,8,["title"])):m("",!0)],64))}}),[["__scopeId","data-v-2d761052"]]),J={class:"at-tracker-host"},K=C(e({__name:"ATTracker",setup(e){const l=a().i18n,n=y(),{allExpenditures:i}=w(n),r=t(""),x=t(!1),_=()=>{x.value=!0},E=()=>{x.value=!1},O=e=>{try{e.id=i.value[i.value.length-1].id+1}catch{e.id=1}n.addExpenditure(e),x.value=!1},C=e=>{n.deleteExpenditure(e.id)},I=e=>{n.updateExpenditure(e)},b=e=>{r.value=e};return(e,a)=>(u(),d(f,null,[h("div",J,[h("header",null,[s(M,{placeholder:c(l).search_expenditure,onSearchChanged:b},null,8,["placeholder"]),s(v,{title:c(l).new_expenditure,width:"175px",primary:"",onPress:_},{icon:o((()=>[s(k)])),_:1},8,["title"])]),h("main",null,[s(H,{data:c(i),filter:r.value,onDeleteExpenditure:C,onUpdateExpenditure:I},null,8,["data","filter"])])]),x.value?(u(),p(P,{key:0,title:c(l).new_expenditure,"handle-close-modal-on-cancel":E,"handle-close-modal-on-save":O},null,8,["title"])):m("",!0)],64))}}),[["__scopeId","data-v-7346564a"]]);export{K as default};
